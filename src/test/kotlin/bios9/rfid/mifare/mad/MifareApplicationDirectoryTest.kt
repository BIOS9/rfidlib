package bios9.rfid.mifare.mad

import org.junit.jupiter.api.Assertions.fail
import org.junit.jupiter.api.Test

@OptIn(ExperimentalUnsignedTypes::class)
class MifareApplicationDirectoryTest {
    @Test
    fun `valid mad v1 should decode`() {
        val sector0 = ubyteArrayOf(
            0x9Du, 0x49u, 0x91u, 0x16u, 0xDEu, 0x28u, 0x02u, 0x00u, 0xE3u, 0x27u, 0x00u, 0x20u, 0x00u, 0x00u, 0x00u, 0x17u,
            0xCDu, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u,
            0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x11u, 0x48u, 0x12u, 0x48u,
            0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x78u, 0x77u, 0x88u, 0xC1u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u, 0x00u
        )

        val mad = MifareApplicationDirectory.decode(sector0)
    }
}